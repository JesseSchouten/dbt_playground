version: 2

models:
  - name: stg_crm__customers
    description: crm dataset
    config:
      tags:
        - crm
    columns:
      - name: customer_id
        description: Id of the customer field.
        tests:
          - unique:
              config:   
                limit: 10
          - not_null
      - name: first_name
        description: first name of the customer
        tests:  
          - not_null:
              config: 
                severity: warn
      - name: last_name
        description: last name of the customer
        tests:  
          - not_null:
              config: 
                severity: warn
      - name: customer_status
        description: status of the customer
        tests:
          - accepted_values: 
              values: ['active', 'inactive', 'blocked']
      - name: last_purchase_timestamp
        description: timestamp of the last order purchase of customers